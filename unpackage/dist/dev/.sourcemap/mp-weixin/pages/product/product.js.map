{"version":3,"sources":["webpack:////Users/jihuimiao/Desktop/node/uni-app-thmart/thmart-app/main.js","webpack:////Users/jihuimiao/Desktop/node/uni-app-thmart/thmart-app/pages/product/product.vue?eb3d","webpack:////Users/jihuimiao/Desktop/node/uni-app-thmart/thmart-app/pages/product/product.vue?c71b","webpack:////Users/jihuimiao/Desktop/node/uni-app-thmart/thmart-app/pages/product/product.vue?30d6","webpack:////Users/jihuimiao/Desktop/node/uni-app-thmart/thmart-app/pages/product/product.vue?258c","webpack:////Users/jihuimiao/Desktop/node/uni-app-thmart/thmart-app/pages/product/product.vue","webpack:////Users/jihuimiao/Desktop/node/uni-app-thmart/thmart-app/pages/product/product.vue?72d3","webpack:////Users/jihuimiao/Desktop/node/uni-app-thmart/thmart-app/pages/product/product.vue?7043"],"names":["createPage","Page","components","share","stepper","data","itemDetails","details","shareList","goods_info","specClass","showBtnName","specifications","difference","shopItemInfo","selectArr","subIndex","selectshop","selectNum","onShow","console","log","onLoad","options","params","_id","id","Api","getItem","sku","title","name","picture","carousel","pic","$api","json","map","item","push","checkItem","checkInpath","filters","formatRichText","html","newContent","replace","match","capture","computed","canCount","some","methods","changeNum","val","parseInt","numberChange","number","skuClick","value","index1","event","index2","ishow","$set","every","clickIndex","i","len","length","len2","j","choosed_copy","choosed_copy2","filter","hasOwnProperty","result","reduce","arrs","items","concat","arr","item2","toggleSpec","flag","setTimeout","$refs","toggleMask","toFavorite","favorite","buy","uni","navigateTo","url","stopPrevent","onBuyClicked","msg","common","isLogin","onAddCartClicked","sku_id","addCart","code"],"mappings":"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","file":"pages/product/product.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/product/product.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./product.vue?vue&type=template&id=98128edc&\"\nvar renderjs\nimport script from \"./product.vue?vue&type=script&lang=js&\"\nexport * from \"./product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./product.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('98128edc')) {\n      api.createRecord('98128edc', component.options)\n    } else {\n      api.reload('98128edc', component.options)\n    }\n    module.hot.accept(\"./product.vue?vue&type=template&id=98128edc&\", function () {\n      api.rerender('98128edc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/jihuimiao/Desktop/node/uni-app-thmart/thmart-app/pages/product/product.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=template&id=98128edc&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"formatRichText\")(_vm.details)\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport share from '@/components/share';\nimport stepper from '@/components/stepper.vue';\nexport default{\n\tcomponents: {\n\t\tshare,\n\t\tstepper\n\t},\n\tdata() {\n\t\treturn {\n\t\t\titemDetails: null,\n\t\t\tdetails: '',\n\t\t\tshareList: [],\n\t\t\n\t\t\tgoods_info: {},\n\t\t\tspecClass: 'none',\n\n\t\t\tshowBtnName: 'all',\n\n\t\t\tspecifications: [], //spu规格列表\n\t\t\tdifference: [], //sku列表\n\t\t\tshopItemInfo: {}, //存放要和选中的值进行匹配的数据\n\t\t\tselectArr: [], //存放被选中的值\n\t\t\tsubIndex: [], //是否选中 因为不确定是多规格还是但规格，所以这里定义数组来判断\n\t\t\tselectshop: {}, //存放最后选中的商品\n\t\t\tselectNum: 1 //选中数量\n\n\t\t};\n\t},\n\tasync onShow() {\n\t\tconsole.log('onShow');\n\t},\n\tasync onLoad(options){\n\t\tlet params ={\n\t\t\t_id: options.id\n\t\t};\n\t\t// let params ={\n\t\t// \t_id: '5de081a7cc643f10a54c5452'\n\t\t// };\n\t\tlet { data } = await this.Api.getItem(params);\n\t\tthis.itemDetails = data;\n\t\tthis.details = this.itemDetails.details;\n\t\tthis.difference = data.sku;\n\t\tthis.specifications = data.specifications;\n\t\tthis.goods_info = {\n\t\t\ttitle: data.name,\n\t\t\tpicture: data.carousel[0].pic\n\t\t}\n\t\tthis.shareList = await this.$api.json('shareList');\n\n\n\t\tthis.specifications.map(item => {\n\t\t\tthis.selectArr.push('');\n\t\t\tthis.subIndex.push(-1);\n\t\t});\n\t\tthis.checkItem(); //计算sku里面规格形成路径\n\t\tthis.checkInpath(-1); //传-1是为了不跳过循环\n\t},\n\tfilters: {\n\t\t/**\n\t\t * 处理富文本里的图片宽度自适应\n\t\t * 1.去掉img标签里的style、width、height属性\n\t\t * 2.img标签添加style属性：max-width:100%;height:auto\n\t\t * 3.修改所有style里的width属性为max-width:100%\n\t\t * 4.去掉<br/>标签\n\t\t * @param html\n\t\t * @returns {void|string|*}\n\t\t */\n\t\tformatRichText (html) { //控制小程序中图片大小\n\t\t\tlet newContent= html.replace(/<img[^>]*>/gi,function(match,capture){\n\t\t\t\tmatch = match.replace(/style=\"[^\"]+\"/gi, '').replace(/style='[^']+'/gi, '');\n\t\t\t\tmatch = match.replace(/width=\"[^\"]+\"/gi, '').replace(/width='[^']+'/gi, '');\n\t\t\t\tmatch = match.replace(/height=\"[^\"]+\"/gi, '').replace(/height='[^']+'/gi, '');\n\t\t\t\treturn match;\n\t\t\t});\n\t\t\tnewContent = newContent.replace(/style=\"[^\"]+\"/gi,function(match,capture){\n\t\t\t\tmatch = match.replace(/width:[^;]+;/gi, 'max-width:100%;').replace(/width:[^;]+;/gi, 'max-width:100%;');\n\t\t\t\treturn match;\n\t\t\t});\n\t\t\tnewContent = newContent.replace(/<br[^>]*\\/>/gi, '');\n\t\t\tnewContent = newContent.replace(/\\<img/gi, '<img style=\"max-width:100%;height:auto;display:inline-block;margin:10rpx auto;\"');\n\t\t\treturn newContent;\n\t\t}\t\n\t},\n\tcomputed: {\n\t\tcanCount() {\n\t\t\treturn this.subIndex.some(item => item === -1);\n\t\t}\n\t},\n\t\n\tmethods:{\n\t\tchangeNum(val) {\n\t\t\tthis.selectNum = parseInt(val);\n\t\t},\n\t\tnumberChange(val) {\n\t\t\tconsole.log(val);\n\t\t\tthis.selectNum = val.number;\n\t\t},\n\t\tskuClick(value, index1, event, index2) {\n\t\t\tif (value.ishow) {\n\t\t\t\tif (this.selectArr[index1] != value.name) {\n\t\t\t\t\tthis.$set(this.selectArr, index1, value.name);\n\t\t\t\t\tthis.$set(this.subIndex, index1, index2);\n\t\t\t\t} else {\n\t\t\t\t\tthis.$set(this.selectArr, index1, '');\n\t\t\t\t\tthis.$set(this.subIndex, index1, -1);\n\t\t\t\t}\n\t\t\t\tthis.checkInpath(index1);\n\t\t\t\t//如果全部选完\n\t\t\t\tif (this.selectArr.every(item => item != '')) {\n\t\t\t\t\tthis.selectshop = this.shopItemInfo[this.selectArr];\n\t\t\t\t\tthis.selectNum = 1;\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectshop = {};\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcheckInpath(clickIndex) {\n\t\t\t// console.time('筛选可选路径需要的时间是');\n\t\t\t//循环所有属性判断哪些属性可选\n\t\t\t//当前选中的兄弟节点和已选中属性不需要循环\n\n\t\t\tfor (let i = 0, len = this.specifications.length; i < len; i++) {\n\t\t\t\tif (i == clickIndex) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet len2 = this.specifications[i].item.length;\n\t\t\t\tfor (let j = 0; j < len2; j++) {\n\t\t\t\t\tif (this.subIndex[i] != -1 && j == this.subIndex[i]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tlet choosed_copy = [...this.selectArr];\n\t\t\t\t\tthis.$set(choosed_copy, i, this.specifications[i].item[j].name);\n\t\t\t\t\tlet choosed_copy2 = choosed_copy.filter(item => item !== '' && typeof item !== 'undefined');\n\t\t\t\t\tif (this.shopItemInfo.hasOwnProperty(choosed_copy2)) {\n\t\t\t\t\t\tthis.$set(this.specifications[i].item[j], 'ishow', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$set(this.specifications[i].item[j], 'ishow', false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// console.log(this.specifications)\n\t\t\t// console.timeEnd('筛选可选路径需要的时间是');\n\t\t},\n\t\tcheckItem() {\n\t\t\t// console.time('计算有多小种可选路径需要的时间是');\n\t\t\t//计算有多小种可选路径\n\t\t\tlet result = this.difference.reduce(\n\t\t\t\t(arrs, items) => {\n\t\t\t\t\treturn arrs.concat(\n\t\t\t\t\t\titems.difference.reduce(\n\t\t\t\t\t\t\t(arr, item) => {\n\t\t\t\t\t\t\t\treturn arr.concat(\n\t\t\t\t\t\t\t\t\tarr.map(item2 => {\n\t\t\t\t\t\t\t\t\t\t//利用对象属性的唯一性实现二维数组去重\n\t\t\t\t\t\t\t\t\t\tif (!this.shopItemInfo.hasOwnProperty([...item2, item])) {\n\t\t\t\t\t\t\t\t\t\t\tthis.shopItemInfo[[...item2, item]] = items;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn [...item2, item];\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t[[]]\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\t[[]]\n\t\t\t);\n\t\t\tconsole.log(result);\n\t\t\t// console.timeEnd('计算有多小种可选路径需要的时间是');\n\t\t},\n\n\n\t\t//规格弹窗开关\n\t\ttoggleSpec(flag) {\n\t\t\tif(this.specClass === 'show'){\n\t\t\t\tthis.specClass = 'hide';\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.specClass = 'none';\n\t\t\t\t}, 250);\n\t\t\t}else if(this.specClass === 'none'){\n\t\t\t\tthis.specClass = 'show';\n\t\t\t}\n\t\t\tthis.showBtnName = flag;\n\t\t},\n\t\t//分享\n\t\tshare(){\n\t\t\tthis.$refs.share.toggleMask();\t\n\t\t},\n\t\t//收藏\n\t\ttoFavorite(){\n\t\t\tthis.favorite = !this.favorite;\n\t\t},\n\t\tbuy(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/order/createOrder`\n\t\t\t})\n\t\t},\n\t\tstopPrevent(){},\n\t\tonBuyClicked() {\n\t\t\tconsole.log(this.selectshop);\n\t\t\tconst { _id  } = this.selectshop;\n\t\t\tconst selectNum = this.selectNum;\n\t\t\t// if(_id && this.common.isLogin()) {\n\t\t\t// \tthis.specClass = \"none\";\n\t\t\t// \tuni.navigateTo({\n\t\t\t// \t\turl: `/pages/order/createOrder?sku_id=${_id}&number=${selectNum}`\n\t\t\t// \t})\n\t\t\t// } else if(!_id) {\n\t\t\t// \tthis.$api.msg('请选择规格！');\n\t\t\t// }\n\t\t\t\t\n\t\t\tif(!_id) {\n\t\t\t\tthis.$api.msg('请选择规格！');\n\t\t\t}\n\t\t\tif (_id && this.common.isLogin()) {\n\t\t\t\tthis.specClass = \"none\";\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/order/createOrder?sku_id=${_id}&number=${selectNum}`\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tasync onAddCartClicked() {\n\t\t\t\n\t\t\tconst { _id  } = this.selectshop;\n\t\t\tconst selectNum = this.selectNum;\n\t\t\tif(!_id) {\n\t\t\t\tthis.$api.msg('请选择规格！');\n\t\t\t}\n\t\t\tif (_id && this.common.isLogin()) {\n\t\t\t\tthis.specClass = \"none\";\n\t\t\t\tlet params = {\n\t\t\t\t\tsku_id: _id,\n\t\t\t\t\tnumber: selectNum\n\t\t\t\t}\n\t\t\t\tconst data = await this.Api.addCart(params);\n\t\t\t\tif(data.code==1) {\n\t\t\t\t\tthis.$api.msg('加入购物车成功！');\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t// let skuId = e.selectedSkuComb._id;\n\t\t\t// let number = e.selectedNum;\n\t\t\t// let params = {\n\t\t\t// \tsku_id: skuId,\n\t\t\t// \tnumber\n\t\t\t// }\n\t\t\t\n\t\t\t// const data = await this.Api.addCart(params);\n\t\t\t// if(data.code==1) {\n\t\t\t// \tthis.$api.msg('加入购物车成功！');\n\t\t\t// }\n\t\t\t// this.showBase = false;\n\t\t}\n\t},\n\n}\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}