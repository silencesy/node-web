(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/addressManage"],{"2ef4":function(e,a,t){"use strict";(function(e){t("9679"),t("921b");s(t("66fd"));var a=s(t("795c"));function s(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,t("6e42")["createPage"])},"57a2":function(e,a,t){"use strict";t.r(a);var s=t("61cf"),n=t.n(s);for(var r in s)"default"!==r&&function(e){t.d(a,e,function(){return s[e]})}(r);a["default"]=n.a},"61cf":function(e,a,t){"use strict";(function(e,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(t("a34a")),r=i(t("397b"));function i(e){return e&&e.__esModule?e:{default:e}}function d(e,a,t,s,n,r,i){try{var d=e[r](i),u=d.value}catch(c){return void t(c)}d.done?a(u):Promise.resolve(u).then(s,n)}function u(e){return function(){var a=this,t=arguments;return new Promise(function(s,n){var r=e.apply(a,t);function i(e){d(r,s,n,i,u,"next",e)}function u(e){d(r,s,n,i,u,"throw",e)}i(void 0)})}}var c={data:function(){return{addressData:{full_name:"",mobile:"",address_details:"",address_name:"在地图选择",house_number:"",is_default:!1},manageType:"add"}},onLoad:function(a){var t="新增收货地址";"edit"===a.type&&(t="编辑收货地址",this.addressData=JSON.parse(a.data)),this.manageType=a.type,e.setNavigationBarTitle({title:t})},methods:{switchChange:function(e){this.addressData.is_default=e.detail.value},chooseLocation:function(){var a=this;e.chooseLocation({success:function(e){console.log(s(e," at pages/address/addressManage.vue:74")),a.addressData.address_details=e.address,a.addressData.address_name=e.name}})},deleteAddress:function(){var a=u(n.default.mark(function a(){var t;return n.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return t={_id:this.addressData._id},a.next=3,this.Api.deleteAddress(t);case 3:a.sent,this.$api.prePage(),this.$api.prePage().loadData(),this.$api.msg("删除地址成功！"),setTimeout(function(){e.navigateBack()},800);case 8:case"end":return a.stop()}},a,this)}));function t(){return a.apply(this,arguments)}return t}(),confirm:function(){var a=u(n.default.mark(function a(){var t,i;return n.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(t=this.addressData,r.default.required(t.full_name)){a.next=4;break}return this.$api.msg("请填写收货人姓名"),a.abrupt("return");case 4:if(r.default.tel(t.mobile)){a.next=7;break}return this.$api.msg("请输入正确的手机号码"),a.abrupt("return");case 7:if(r.default.required(t.address_details)){a.next=10;break}return this.$api.msg("请在地图选择所在位置"),a.abrupt("return");case 10:if(r.default.required(t.house_number)){a.next=13;break}return this.$api.msg("请填写门牌号信息"),a.abrupt("return");case 13:if(i={mobile:this.addressData.mobile,full_name:this.addressData.full_name,address_details:this.addressData.address_details,address_name:this.addressData.address_name,house_number:this.addressData.house_number,is_default:this.addressData.is_default},"add"!=this.manageType){a.next=20;break}return a.next=17,this.Api.addAddress(i);case 17:a.sent,a.next=24;break;case 20:return i._id=this.addressData._id,a.next=23,this.Api.editAddress(i);case 23:a.sent;case 24:this.$api.prePage(),this.$api.prePage().loadData(),console.log(s(this.$api.prePage()," at pages/address/addressManage.vue:131")),this.$api.msg("地址".concat("edit"==this.manageType?"修改":"添加","成功")),setTimeout(function(){e.navigateBack()},800);case 29:case"end":return a.stop()}},a,this)}));function t(){return a.apply(this,arguments)}return t}()}};a.default=c}).call(this,t("6e42")["default"],t("0de9")["default"])},"795c":function(e,a,t){"use strict";t.r(a);var s=t("9cda"),n=t("57a2");for(var r in n)"default"!==r&&function(e){t.d(a,e,function(){return n[e]})}(r);t("b98d");var i=t("2877"),d=Object(i["a"])(n["default"],s["a"],s["b"],!1,null,null,null);a["default"]=d.exports},"9cda":function(e,a,t){"use strict";var s=function(){var e=this,a=e.$createElement;e._self._c},n=[];t.d(a,"a",function(){return s}),t.d(a,"b",function(){return n})},b98d:function(e,a,t){"use strict";var s=t("ef8c"),n=t.n(s);n.a},ef8c:function(e,a,t){}},[["2ef4","common/runtime","common/vendor"]]]);