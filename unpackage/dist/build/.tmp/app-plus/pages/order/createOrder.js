(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/createOrder"],{"0305":function(t,e,r){"use strict";r.r(e);var a=r("7e77"),n=r("0558");for(var i in n)"default"!==i&&function(t){r.d(e,t,function(){return n[t]})}(i);r("ec03");var u=r("2877"),s=Object(u["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=s.exports},"0558":function(t,e,r){"use strict";r.r(e);var a=r("7248"),n=r.n(a);for(var i in a)"default"!==i&&function(t){r.d(e,t,function(){return a[t]})}(i);e["default"]=n.a},1155:function(t,e,r){"use strict";(function(t){r("9679"),r("921b");a(r("66fd"));var e=a(r("0305"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,r("6e42")["createPage"])},"5e0c":function(t,e,r){},7248:function(t,e,r){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(r("a34a"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e,r,a,n,i,u){try{var s=t[i](u),o=s.value}catch(c){return void r(c)}s.done?e(o):Promise.resolve(o).then(a,n)}function s(t){return function(){var e=this,r=arguments;return new Promise(function(a,n){var i=t.apply(e,r);function s(t){u(i,a,n,s,o,"next",t)}function o(t){u(i,a,n,s,o,"throw",t)}s(void 0)})}}var o={data:function(){return{maskState:0,desc:"",payType:1,couponList:[{title:"新用户专享优惠券",price:5},{title:"庆五一发一波优惠券",price:10},{title:"优惠券优惠券优惠券优惠券",price:15}],previewOrderData:null,addressData:null,goodsDetailsOrCartFlag:null}},onLoad:function(t){var e=this.goodsDetailsOrCart(t);this.goodsDetailsOrCartFlag=e,"cart"===e?this.loadData("cart"):"goodsDetails"===e&&this.loadData("goodsDetails",t)},methods:{goodsDetailsOrCart:function(t){return t.sku_id&&t.number?"goodsDetails":"cart"},loadData:function(){var t=s(n.default.mark(function t(e,r){var a,i,u;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.Api.getDefaultAddress();case 2:return a=t.sent,t.next=5,this.Api.previewOrder(e,r);case 5:i=t.sent,u=i.data,this.addressData=a.data[0],this.previewOrderData=u;case 9:case"end":return t.stop()}},t,this)}));function e(e,r){return t.apply(this,arguments)}return e}(),toggleMask:function(t){var e=this,r="show"===t?10:300,a="show"===t?1:0;this.maskState=2,setTimeout(function(){e.maskState=a},r)},numberChange:function(t){this.number=t.number},changePayType:function(t){this.payType=t},submit:function(){var e=s(n.default.mark(function e(){var r,i,u,s,o,c;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=this.addressData,i=this.goodsDetailsOrCartFlag,u=[],r?(this.previewOrderData.data.forEach(function(t){var e={sku_id:"cart"==i?t.sku_id:t._id,number:t.number};u.push(e)}),console.log(t(u," at pages/order/createOrder.vue:211"))):this.$api.msg("请添加地址！"),s={addressId:r._id,skuInfo:u,buyer_remark:this.desc,goodsDetailsOrCart:i},e.next=7,this.Api.creatOrder(s);case 7:o=e.sent,c=o.data,a.redirectTo({url:"/pages/money/pay?orderNumber=".concat(c)});case 10:case"end":return e.stop()}},e,this)}));function r(){return e.apply(this,arguments)}return r}(),stopPrevent:function(){}}};e.default=o}).call(this,r("0de9")["default"],r("6e42")["default"])},"7e77":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},n=[];r.d(e,"a",function(){return a}),r.d(e,"b",function(){return n})},ec03:function(t,e,r){"use strict";var a=r("5e0c"),n=r.n(a);n.a}},[["1155","common/runtime","common/vendor"]]]);