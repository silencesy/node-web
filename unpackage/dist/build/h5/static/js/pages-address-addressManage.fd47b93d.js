(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-address-addressManage"],{"37dc":function(e,t,a){var n=a("3dc5");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("0af7b056",n,!0,{sourceMap:!1,shadowMode:!1})},"397b":function(e,t,a){"use strict";var n=a("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("c5f6"),a("6b54"),a("87b3");var i=n(a("d225")),s=n(a("b0b4")),r=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"required",value:function(e){if("number"===typeof e)e=e.toString();else if("boolean"===typeof e)return!0;return e&&e.length>0}},{key:"noDuplicate",value:function(e){for(var t=0;t<e.length;t++)for(var a=0;a<e.length;a++)if(e[t]==e[a]&&t!=a)return!1;return!0}},{key:"password",value:function(e){return/(?=.*([a-zA-Z].*))(?=.*[0-9].*)[a-zA-Z0-9-*\/+.~!@#$%^&*()]{6,20}$/.test(e)}},{key:"isSame",value:function(e,t){return e===t}},{key:"email",value:function(e){return/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)}},{key:"tel",value:function(e){return/^1[23456789]\d{9}$/.test(e)}},{key:"phone",value:function(e){return/^0?(13[0-9]|15[012356789]|17[013678]|18[0-9]|14[57])[0-9]{8}$/.test(e)}},{key:"call",value:function(e){return/(^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$)|(^((\(\d{3}\))|(\d{3}\-))?(1[358]\d{9})$)/.test(e)}},{key:"fax",value:function(e){return/^(\d{3,4}-)\d{7,8}$/.test(e)}},{key:"url",value:function(e){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)}},{key:"date",value:function(e){return!/Invalid|NaN/.test(new Date(e).toString())}},{key:"dateISO",value:function(e){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)}},{key:"number",value:function(e){return/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)}},{key:"digits",value:function(e){return/^\d+$/.test(e)}},{key:"amount",value:function(e){return/^[1-9]\d*$/.test(e)}},{key:"idcard",value:function(e){return/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(e)}},{key:"equalTo",value:function(e,t){return e==t}},{key:"contains",value:function(e,t){return e.indexOf(t)>=0}},{key:"minlength",value:function(e,t){return e.length>=t}},{key:"maxlength",value:function(e,t){return e.length<=t}},{key:"rangelength",value:function(e,t){return e.length>=t[0]&&e.length<=t[1]}},{key:"min",value:function(e,t){return Number(e)>=Number(t)}},{key:"max",value:function(e,t){return Number(e)<=Number(t)}},{key:"range",value:function(e,t){return e>=t[0]&&e<=t[1]}}]),e}();t.default=r},"3dc5":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-67282664]{background:#f8f8f8;padding-top:%?16?%}.row[data-v-67282664]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;padding:0 %?30?%;height:%?110?%;background:#fff}.row .tit[data-v-67282664]{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:%?120?%;font-size:%?30?%;color:#303133}.row .input[data-v-67282664]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-size:%?30?%;color:#303133}.row .icon-shouhuodizhi[data-v-67282664]{font-size:%?36?%;color:#909399}.default-row[data-v-67282664]{margin-top:%?16?%}.default-row .tit[data-v-67282664]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.default-row uni-switch[data-v-67282664]{-webkit-transform:translateX(%?16?%) scale(.9);-ms-transform:translateX(%?16?%) scale(.9);transform:translateX(%?16?%) scale(.9)}.add-btn[data-v-67282664]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:%?690?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;color:#fff;background-color:#fa436a;border-radius:%?10?%;-webkit-box-shadow:1px 2px 5px rgba(219,63,96,.4);box-shadow:1px 2px 5px rgba(219,63,96,.4)}.bottom-btns[data-v-67282664]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:%?20?%}.bottom-btns .edit-btn[data-v-67282664]{width:45%;font-size:%?32?%;color:#fff;background-color:#fa436a;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.bottom-btns .delete-btn[data-v-67282664]{width:45%;font-size:%?32?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}body.?%PAGE?%[data-v-67282664]{background:#f8f8f8}',""])},"3efe":function(e,t,a){"use strict";var n=a("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var i=n(a("3b8d"));a("7f7f");var s=n(a("397b")),r={data:function(){return{addressData:{full_name:"",mobile:"",address_details:"",address_name:"在地图选择",house_number:"",is_default:!1},manageType:"add"}},onLoad:function(e){var t="新增收货地址";"edit"===e.type&&(t="编辑收货地址",this.addressData=JSON.parse(e.data)),this.manageType=e.type,uni.setNavigationBarTitle({title:t})},methods:{switchChange:function(e){this.addressData.is_default=e.detail.value},chooseLocation:function(){var e=this;uni.chooseLocation({success:function(t){console.log(t),e.addressData.address_details=t.address,e.addressData.address_name=t.name}})},deleteAddress:function(){var e=(0,i.default)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={_id:this.addressData._id},e.next=3,this.Api.deleteAddress(t);case 3:e.sent,this.$api.prePage(),this.$api.prePage().loadData(),this.$api.msg("删除地址成功！"),setTimeout(function(){uni.navigateBack()},800);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),confirm:function(){var e=(0,i.default)(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.addressData,s.default.required(t.full_name)){e.next=4;break}return this.$api.msg("请填写收货人姓名"),e.abrupt("return");case 4:if(s.default.tel(t.mobile)){e.next=7;break}return this.$api.msg("请输入正确的手机号码"),e.abrupt("return");case 7:if(s.default.required(t.address_details)){e.next=10;break}return this.$api.msg("请在地图选择所在位置"),e.abrupt("return");case 10:if(s.default.required(t.house_number)){e.next=13;break}return this.$api.msg("请填写门牌号信息"),e.abrupt("return");case 13:if(a={mobile:this.addressData.mobile,full_name:this.addressData.full_name,address_details:this.addressData.address_details,address_name:this.addressData.address_name,house_number:this.addressData.house_number,is_default:this.addressData.is_default},"add"!=this.manageType){e.next=20;break}return e.next=17,this.Api.addAddress(a);case 17:e.sent,e.next=24;break;case 20:return a._id=this.addressData._id,e.next=23,this.Api.editAddress(a);case 23:e.sent;case 24:this.$api.prePage(),this.$api.prePage().loadData(),console.log(this.$api.prePage()),this.$api.msg("地址".concat("edit"==this.manageType?"修改":"添加","成功")),setTimeout(function(){uni.navigateBack()},800);case 29:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}};t.default=r},"57a2":function(e,t,a){"use strict";a.r(t);var n=a("3efe"),i=a.n(n);for(var s in n)"default"!==s&&function(e){a.d(t,e,function(){return n[e]})}(s);t["default"]=i.a},"70f3":function(e,t,a){"use strict";var n=a("37dc"),i=a.n(n);i.a},"795c":function(e,t,a){"use strict";a.r(t);var n=a("ba48"),i=a("57a2");for(var s in i)"default"!==s&&function(e){a.d(t,e,function(){return i[e]})}(s);a("70f3");var r=a("2877"),u=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"67282664",null);t["default"]=u.exports},ba48:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("联系人")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"收货人姓名","placeholder-class":"placeholder"},model:{value:e.addressData.full_name,callback:function(t){e.$set(e.addressData,"full_name",t)},expression:"addressData.full_name"}})],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("手机号")]),a("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:"收货人手机号码","placeholder-class":"placeholder"},model:{value:e.addressData.mobile,callback:function(t){e.$set(e.addressData,"mobile",t)},expression:"addressData.mobile"}})],1),a("v-uni-view",{staticClass:"row b-b",on:{click:function(t){t=e.$handleEvent(t),e.chooseLocation(t)}}},[a("v-uni-text",{staticClass:"tit"},[e._v("地址")]),a("v-uni-text",{staticClass:"input"},[e._v(e._s(e.addressData.address_name))]),a("v-uni-text",{staticClass:"yticon icon-shouhuodizhi"})],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("门牌号")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"楼号、门牌","placeholder-class":"placeholder"},model:{value:e.addressData.house_number,callback:function(t){e.$set(e.addressData,"house_number",t)},expression:"addressData.house_number"}})],1),a("v-uni-view",{staticClass:"row default-row"},[a("v-uni-text",{staticClass:"tit"},[e._v("设为默认")]),a("v-uni-switch",{attrs:{checked:e.addressData.is_default,color:"#fa436a"},on:{change:function(t){t=e.$handleEvent(t),e.switchChange(t)}}})],1),"add"==e.manageType?a("v-uni-view",[a("v-uni-button",{staticClass:"add-btn",on:{click:function(t){t=e.$handleEvent(t),e.confirm(t)}}},[e._v("保存")])],1):a("v-uni-view",{staticClass:"bottom-btns"},[a("v-uni-button",{staticClass:"delete-btn",on:{click:function(t){t=e.$handleEvent(t),e.deleteAddress(t)}}},[e._v("删除")]),a("v-uni-button",{staticClass:"edit-btn",on:{click:function(t){t=e.$handleEvent(t),e.confirm(t)}}},[e._v("保存")])],1)],1)},i=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i})}}]);